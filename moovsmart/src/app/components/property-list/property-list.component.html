<div class="container">
    <form [formGroup]="filteredForm" (ngSubmit)="filterProperties()">
    <table class="table table-bordered">

        <tbody>
            <tr>
                <td>
                    <label class="form-control-label" for="sizeMin">Méret min:</label>
                    <input type="number" formControlName="minSize" class="form-control" id="sizeMin" placeholder="0">
                </td>
                <td>
                    <label class="form-control-label" for="sizeMax">Méret max:</label>
                    <input type="number" formControlName="maxSize" class="form-control" id="sizeMax" placeholder="mindegy">
                </td>
                <td>
                    <label class="form-control-label" for="priceMin">Ár min:</label>
                    <input type="number" formControlName="minPrice" class="form-control" id="priceMin" placeholder = "0">
                </td>
                <td>
                    <label class="form-control-label" for="priceMax">Ár max:</label>
                    <input type="number" formControlName="maxPrice" class="form-control" id="priceMax" placeholder="mindegy">
                </td>
            </tr>
            <tr>
                <td>
                    <label class="form-control-label" for="porpertyState">Ingatlan állapot</label>
                    <select id="porpertyState" formControlName="propertyState" class="form-control">
                        <option value=null>--Mindegy--</option>
                        <option *ngFor="let state of propertyStates, let i = index"
                                [value]="state.name">{{state.displayName}}
                        </option>
                    </select>
                </td>
                <td>
                    <label class="form-control-label"  for="porpertyType">Ingatlan típusa</label>
                    <select id="porpertyType" formControlName="propertyType" class="form-control">
                        <option value=null>--Mindegy--</option>
                        <option *ngFor="let typeProperty of propertyTypes, let i = index"
                                [value]="typeProperty.name">{{typeProperty.displayName}}
                        </option>
                    </select>
                </td>

                <td>
                    <label class="form-control-label" for="city">Város</label>
                    <select id="city" formControlName="city" class="form-control">
                        <option value=null>--Mindegy--</option>
                        <option *ngFor="let city of cities, let i = index"
                                [value]="city">{{city}}
                        </option>
                    </select>
                </td>
                <td>
                    <label class="form-control-label" for="rooms">Szobák száma</label>
                    <input type="number" formControlName="numberOfRooms" class="form-control" id="rooms" placeholder="mindegy">
                </td>
            </tr>
        </tbody>
    </table>
        <p id="filterButton">
            <button class="btn btn-warning" type="submit">Szűrés</button>
        </p>
    </form>
</div>
<div class="container jumbotron">
    <div id="mainDiv">
        <div *ngIf="propertyListItemModels === undefined || propertyListItemModels.length === 0" id="emptydb">
            <img
                src="https://previews.123rf.com/images/tcareob72/tcareob721801/tcareob72180100003/94128283-beautiful-atmosphere-empty-field-in-thailand-.jpg"
                alt="empty database" id="emptyPicture">
            <div id="emptydbmessage">Sajnáljuk, jelenleg nincs ingatlan az adatbázisunkban.</div>
        </div>
    </div>

    <table *ngIf="propertyListItemModels?.length !== 0" id="list-table" class="table table-borderless">
        <thead>
            <tr>
                <th colspan="3"><h1>Eladó ingatlanok</h1></th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let property of propertyListItemModels" id="mainRow">
                <td>
                    <div *ngIf="property?.imageUrl[0].length < 3">
                        <img [src]="defaultPicture" class="defaultPicture">
                    </div>
                    <div *ngIf="property.imageUrl">
                        <img (click)="details(property.id)" alt="ingatlan" class="room-list-item__image" width="200"
                             src="{{property?.imageUrl[0]}}"/>
                    </div>
                </td>
                <td>
                    <h3>{{property.name}}</h3>
                    <p><strong>Szobák száma: </strong> {{property.numberOfRooms}}</p>
                    <p><strong>Ár: </strong> {{property.price}}</p></td>
                <td>
                    <div class="btn-group">
                        <button class="btn" (click)="details(property.id)">Részletek</button>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
